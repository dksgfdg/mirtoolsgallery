<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />
    <link rel="Bookmark" href="/favicon.ico" >
    <link rel="Shortcut Icon" href="/favicon.ico" />
    <!--[if lt IE 9]>

    <script type="text/javascript" th:src="@{/webapp/static/lib}"  ></script>
    <script type="text/javascript" th:src="@{/webapp/static/lib/respond.min.js}" ></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" th:href="@{/webapp/static/h-ui/css/H-ui.min.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/webapp/static/h-ui.admin/css/H-ui.admin.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/webapp/lib/Hui-iconfont/1.0.8/iconfont.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/webapp/static/h-ui.admin/skin/red/skin.css}" id="skin" />
    <link rel="stylesheet" type="text/css" th:href="@{/webapp/static/h-ui.admin/css/style.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/webapp/lib/bootstrap-3.3.7/css/bootstrap.css}" />

    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
    <link rel="stylesheet" type="text/css" th:href="@{/webapp/lib/pagination/css/pagination.css}" />



    <!--[if IE 6]>
    <script type="text/javascript" th:src="@{/webapp/static/lib/DD_belatedPNG_0.0.8a-min.js}"></script>
    <script>DD_belatedPNG.fix('*');</script>
    <![endif]-->
    <title>mirtoolsgallery</title>
    <script th:src="@{/webapp/lib/html5shiv.js}"></script>
    <!--<link rel="stylesheet" href="../static/css/bootstrap.min.css">-->
</head>
<body>
<header class="navbar-wrapper">
    <div class="navbar">
        <div class="container-fluid cl">

            <a class=" navbar-logo f-l mr-10 hidden-xs" th:href="@{index}">
                <img th:src="@{/images/logo-miRToolsGallery-150.png}" height="150" width="273"/>
            </a>


            <a class="logo navbar-logo-m f-l mr-10 visible-xs" th:href="@{index}">miRToolsGallery</a>

            <span class="logo navbar-slogan f-l mr-10 hidden-xs">A Small Non-coding RNA bioinformatics resources database portal</span>
            <a aria-hidden="false" class="nav-toggle Hui-iconfont visible-xs" href="javascript:;">&#xe667;</a>




            <nav id="Hui-userbar" class="nav navbar-nav navbar-userbar hidden-xs">
                <ul class="cl">
                    <li id="Hui-backstage-management"> <a th:href="@{/manage/index}" ><i class="Hui-iconfont" style="font-size:18px">backstage management</i></a> </li>
                    <li id="Hui-sign-in"> <a th:href="@{/login}" ><i class="Hui-iconfont" style="font-size:18px">sign in</i></a> </li>
                    <li id="Hui-sign-up"> <a th:href="@{/signup}"><i class="Hui-iconfont" style="font-size:18px">sign up</i></a> </li>

                </ul>
            </nav>
        </div>
        <div class="container-fluid cl">
            <nav id="Hui-nav" class="nav navbar-nav nav-collapse" role="navigation" style="user-select: auto;">
                <ul id="min_title_list" >
                    <li calss="current" id="Huinav_1" style="user-select: auto;"> <a th:href="@{/index}">Home</a> </li>
                    <li id="Huinav_2" style="user-select: auto;"> <a th:href="@{/mirtool/filter}" style="user-select: auto;">Filter and Rank</a> </li>
                    <li id="Huinav_3" style="user-select: auto;"> <a th:href="@{/tutorials}" style="user-select: auto;">Tutorials</a> </li>
                    <li id="Huinav_4" style="user-select: auto;"> <a th:href="@{/tags/list}" style="user-select: auto;">Tags Gallery</a> </li>
                    <li id="Huinav_5" style="user-select: auto;"> <a th:href="@{/logo/list}" style="user-select: auto;">Logo Gallery</a> </li>
                    <li id="Huinav_6" style="user-select: auto;"> <a th:href="@{/paper/list}" style="user-select: auto;">Review Paper Gallery</a> </li>
                    <li id="Huinav_7" style="user-select: auto;"> <a th:href="@{/mirtool/add}" style="user-select: auto;">Submit Tools</a> </li>
                    <li id="Huinav_8" style="user-select: auto;"> <a th:href="@{/mirtool/manage}" style="user-select: auto;">Manage Tools</a> </li>
                    <li id="Huinav_9" style="user-select: auto;"> <a th:href="@{/contact}" style="user-select: auto;">Contact Us</a> </li>
                </ul>
            </nav>
        </div>
    </div>

</header>
<div class="container" style="user-select: auto">
    <div class="row">
        <div class="col-md-8">
           <!-- <div id="canvas-container" style="float: left">
                <canvas id="canvas" width="600px" height="600px"></canvas>

            </div>-->

            <div id="chartdiv"></div>


        </div>

        <!--<div th:replace="side :: right"></div>-->
        <iframe th:src="@{/side}" frameborder="0"></iframe>
    </div>
</div>
</div>

<!--_footer 作为公共模版分离出去-->
<!--<script type="text/javascript" th:src="@{/webapp/lib/jquery/1.9.1/jquery.min.js}"></script>-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" th:src="@{/webapp/lib/layer/2.4/layer.js}"></script>
<script type="text/javascript" th:src="@{/webapp/static/h-ui/js/H-ui.min.js}"></script>
<script type="text/javascript" th:src="@{/webapp/static/h-ui.admin/js/H-ui.admin.js}"></script>
<script type="text/javascript" th:src="@{/webapp/static/h-ui.admin/js/H-ui.admin.js}"></script>
<script type="text/javascript" th:src="@{/webapp/lib/dotdotdot/dotdotdot.js}"></script>
<script type="text/javascript" th:src="@{/webapp/lib/pagination/js/jquery.pagination.js}"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" th:src="@{/webapp/lib/wordcloud2.js-gh-pages/src/wordcloud2.js}"></script>

<script src="https://cdn.amcharts.com/lib/4/core.js"></script>
<script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
<script src="https://cdn.amcharts.com/lib/4/plugins/wordCloud.js"></script>
<script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>


<!--/_footer 作为公共模版分离出去-->

<!--请在下方写此页面业务相关的脚本-->

<script type="text/javascript">


$.ajax({
    type:"get",
    url:"/tag/getCount",
    /*async:false,*/
    success: function (res){

        var wordFreqs=res.data
        /**
         * ---------------------------------------
         * This demo was created using amCharts 4.
         *
         * For more information visit:
         * https://www.amcharts.com/
         *
         * Documentation is available at:
         * https://www.amcharts.com/docs/v4/
         * ---------------------------------------
         */

// Themes begin
       // am4core.useTheme(am4themes_animated);


        var chart = am4core.create("chartdiv", am4plugins_wordCloud.WordCloud);
        chart.fontFamily = "Courier New";
        var series = chart.series.push(new am4plugins_wordCloud.WordCloudSeries());
        series.randomness = 0.1;
        series.rotationThreshold = 0.5;

        series.data = wordFreqs;


        series.dataFields.word = "tagName";
        series.dataFields.value = "count";

        series.heatRules.push({
            "target": series.labels.template,
            "property": "fill",
            "min": am4core.color("#0000CC"),
            "max": am4core.color("#CC00CC"),
            "dataField": "value"
        });

        series.labels.template.url = "https://stackoverflow.com/questions/tagged/{word}";
        series.labels.template.urlTarget = "_blank";

        series.labels.template.tooltipText = "{word}:\n[bold]{value}[/]";








        var wordFreqData = new Array();
        for (var i = 0; i < wordFreqs.length; i++) {
            var option = [wordFreqs[i].tagName, wordFreqs[i].count];
            wordFreqData.push(option);
        }
            var canvas = document.getElementById('canvas');
            var options = eval({
                "list": wordFreqData,
                "gridSize": 6,
                "weightFactor": 1,
                "maxFontSize": 60,
                "minFontSize": 14,
                "fontWeight": 'normal',
                "fontFamily": 'Finger Paint, cursive, sans-serif',
                "color": 'random-light',
                "backgroundColor": '#001f00',
               /* "click": function (){
                    window.location.href="/indexFilter?tagId"+currentPage;
                }*/
                "hover": function drawBox(item, dimension) {jQuery(function($) {
                    var $canvasContainer = $('#canvas-container');
                    var $box = $('<div id="box" hidden />');
                    $canvasContainer.append($box);
                    if (!dimension) {
                        $box.prop('hidden', true);

                        return;
                    }



                    $box.prop('hidden', false);
                    $box.css({
                        left: dimension.x / 2 + 'px',
                        top: dimension.y / 2 + 'px',
                        width: dimension.w / 2 + 'px',
                        height: dimension.h / 2 + 'px'
                    });
                })
                },
                "click": function(item) {
                    alert(item[0] + ': ' + item[1]);
                },
            });

            WordCloud(canvas, options);


    }
})

</script>
</body>
</html>
